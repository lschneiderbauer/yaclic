#!/usr/bin/env ruby

# set process name
$0='yac'

require 'pathname'

# do some stuff to get it running from symlinks etc.
ABS_PATH = Pathname.new(__FILE__).realpath.dirname.parent
$LOAD_PATH << ABS_PATH + "lib/"


require 'prompt'

$debug = true

prompt = Prompt.new

if ARGV.empty? # parameters?
	prompt.start_loop
else
	# before do some preprocessing
	arg = ARGV.join(" ") + "\n"
	#if arg.length >= 2 && arg[1,2] == "--" 

	prompt.do_cycle(arg)
end
